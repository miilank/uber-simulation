@if (open && route) {
  <!-- backdrop -->
  <div
    class="fixed inset-0 bg-black/50 z-50"
    (click)="onClose()">
  </div>

  <!-- right panel -->
  <aside
    class="fixed top-0 right-0 h-full w-105 max-w-[95vw] bg-white z-50 shadow-2xl
           flex flex-col font-poppins">
    <!-- header -->
    <div class="px-6 pt-5 pb-4 border-b border-gray-100">
      <div class="flex items-center justify-between">
        <div class="flex items-center gap-3">
          <h3 class="text-lg">Route Details</h3>
        </div>

        <button
          type="button"
          class="w-9 h-9 rounded-full hover:bg-gray-100 flex items-center justify-center cursor-pointer"
          (click)="onClose()">
          âœ•
        </button>
      </div>
    </div>

    <!-- Route -->
    <div class="px-6 py-5 overflow-auto flex-1">
      <div class="mb-6">
        <h4 class="text-sm mb-3">Route</h4>

        <div class="relative">

            <div class="absolute top-4 bottom-5 right-5.75 w-px bg-gray-300"></div>

            <!-- START -->
            <div class="grid grid-cols-[1fr_48px] gap-4 items-start mb-3">
            <div class="flex items-start gap-3">
                <!-- <div class="text-[11px] text-gray-500">Pickup</div> -->
                <div class="text-sm text-gray-900">{{ route.startLocation }}</div>
            </div>

              <span class="absolute right-4 w-3.5 h-3.5 rounded-full bg-green-600 mt-1 z-10"></span>
            </div>

            <!-- WAYPOINTS -->
            @for (waypoint of route.waypoints; track $index) {
            <div class="grid grid-cols-[1fr_48px] gap-4 items-start mb-3">
                <div class="flex items-start gap-3">
                    <!-- <div class="text-[11px] text-gray-500">Stop {{ $index + 1 }}</div> -->
                    <div class="text-sm text-gray-900">{{ waypoint }}</div>
                </div>

                <span class="absolute right-4.75 w-2 h-2 rounded-full bg-gray-400 mt-2 z-10"></span>
            </div>
            }

            <!-- DESTINATION -->
            <div class="grid grid-cols-[1fr_48px] gap-4 items-start">
            <div class="flex items-start gap-3">
                <!-- <div class="text-[11px] text-gray-500">Destination</div> -->
                <div class="text-sm text-gray-900">{{ route.endLocation }}</div>
            </div>

                <span class="absolute right-4 w-3.5 h-3.5 rounded-full bg-red-600 mt-1 z-10"></span>
            </div>
        </div>
        </div>

    </div>

    <!-- footer -->
    <div class="px-6 py-5 border-t border-gray-100">
      <button
        type="button"
        class="w-full h-11 rounded-xl bg-neutral-900 text-white text-sm hover:bg-neutral-800 transition-colors cursor-pointer"
        (click)="onClose()">
        Close
      </button>
    </div>
  </aside>
}
